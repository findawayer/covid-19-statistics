(this["webpackJsonpcovid-19-statistics"]=this["webpackJsonpcovid-19-statistics"]||[]).push([[0],{15:function(e,t,r){},22:function(e,t,r){"use strict";r.r(t);var n=r(0),a=(r(15),r(1)),i=r.n(a),c=r(10),o=r.n(c),s=r(4),l=r.n(s),u=r(6),d=r(5),b=r(3);function p(){return"caches"in self}function f(e,t,r){return h.apply(this,arguments)}function h(){return(h=Object(u.a)(l.a.mark((function e(t,r,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,window.caches.open(t);case 4:return e.sent.put(r,n),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return j.apply(this,arguments)}function j(){return(j=Object(u.a)(l.a.mark((function e(t,r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p()){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,window.caches.open(t);case 4:return n=e.sent,e.abrupt("return",n.match(r));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=100;function m(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var c=this;window.clearTimeout(t),t=window.setTimeout((function(){e.apply(c,a)}),r)}}function x(e){return"number"===typeof e&&!Number.isNaN(e)&&Number.isFinite(e)}var v={data:null,loading:!0,error:null},w=function(e,t){switch(t.type){case"setError":return Object(b.a)(Object(b.a)({},e),{},{loading:!1,error:t.payload});case"setData":return Object(b.a)(Object(b.a)({},e),{},{loading:!1,data:t.payload});default:throw new Error("Unhandled action type.")}},O=r(12),k="descending";function S(e){return"ascending"===e?"descending":"ascending"}function C(e,t){var r=t.filterKey,n=t.filterKeyword;if(!r||!n)return e;var a=new RegExp(n,"i");return e.filter((function(e){return t=e[r],a.test(String(t));var t}))}function D(e,t){var r=t.sortKey,n=t.sortDirection;if(!r)return e;var a="descending"===n;return e.sort((function(e,t){var n=e[r],i=t[r];return x(n)&&x(i)?function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t-e:e-t}(n,i,a):function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?String(t).localeCompare(String(e)):String(e).localeCompare(String(t))}(n,i,a)}))}var K=r(2),z=r.p+"static/media/chevron-down.24c82cb7.svg";var E=Object(K.a)("div",{target:"ewgwx1a5",label:"StyledTable"})({name:"1mgxwk5",styles:"position:relative;min-width:40em"}),F=Object(K.a)("div",{target:"ewgwx1a4",label:"StyledCell"})({name:"17ntl1",styles:"padding:0.75em 1em;border:solid #ccc;border-width:0 0 1px 1px"}),N=Object(K.a)(F,{target:"ewgwx1a3",label:"StyledHeadCell"})("position:relative;padding-top:1em;padding-bottom:1em;background-color:#eee;font-weight:700;cursor:pointer;&.is-sort-key::after{content:'';position:absolute;top:0;right:1em;bottom:0;display:block;width:1rem;height:1rem;margin:auto;background:url(",z,") no-repeat center/100% auto;}&.is-ascending::after{transform:rotate(-0.5turn);}"),T=Object(K.a)("div",{target:"ewgwx1a2",label:"StyledRowGroup"})({name:"eh69tx",styles:"display:grid;grid-template-columns:repeat(5, 1fr);box-sizing:border-box;background:#fff;border:solid #ccc;border-width:1px 1px 0 0"}),B=Object(K.a)(T,{target:"ewgwx1a1",label:"StyledHead"})({name:"1o5tqc6",styles:"position:sticky;top:0"}),R=Object(K.a)(T,{target:"ewgwx1a0",label:"StyledBody"})({name:"1s9gwlq",styles:"margin-top:-1px"}),L=function(e){var t=e.item,r=e.columns;return Object(n.jsx)(n.Fragment,{children:r.map((function(e){var r,a=e.key;return Object(n.jsx)(F,{children:(r=t[a],x(r)?r.toLocaleString("kr"):String(r))},a)}))})},M=function(e){var t=e.data,r=e.columns,a=e.sortKey,i=e.sortDirection,c=e.handleColumnClick;return Object(n.jsxs)(E,{children:[Object(n.jsx)(B,{children:r.map((function(e){var t=e.key,r=e.alias;return Object(n.jsx)(N,{className:t===a?"is-sort-key is-".concat(i):void 0,onClick:c?c(t):void 0,children:null!==r&&void 0!==r?r:t},t)}))}),Object(n.jsx)(R,{children:t&&t.map((function(e){return Object(n.jsx)(L,{item:e,columns:r},e.country)}))})]})};var q=Object(K.a)("div",{target:"e1xi0cf10",label:"StyledLoading"})({name:"1aslf6p",styles:"position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)"}),A=function(e){var t=e.size,r=void 0===t?64:t;return Object(n.jsx)(q,{"aria-label":"Loading",children:Object(n.jsx)("svg",{width:r,height:r,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#3498DB",children:Object(n.jsx)("g",{fill:"none","fill-rule":"evenodd",children:Object(n.jsxs)("g",{transform:"translate(1 1)","stroke-width":"2",children:[Object(n.jsx)("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),Object(n.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:Object(n.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})})})};var H=Object(K.a)("input",{target:"edo5wnn0",label:"StyledSearch"})({name:"bopy22",styles:"display:block;width:15em;padding:0.75em 1em;background:#fff;border:1px solid #ccc;box-shadow:0 1px 3px rgba(0, 0, 0, 0.12),0 1px 2px rgba(0, 0, 0, 0.24);transition:width 0.1s;&:focus{width:25em;outline:0;border-color:#000;}"}),I=function(e){var t=e.handleChange,r=Object(a.useState)(""),i=Object(d.a)(r,2),c=i[0],o=i[1];return Object(n.jsx)(H,{type:"search",value:c,placeholder:"\uad6d\uac00\ub85c \uac80\uc0c9",onInput:function(e){e.preventDefault(),o(e.target.value)},onChange:m(t,300)})};var J=Object(K.a)("div",{target:"errsibz3",label:"StyledCovidStatHeader"})({name:"1advly2",styles:"height:4rem;margin-bottom:1rem;display:flex;align-items:center;justify-content:space-between"}),P=Object(K.a)("h1",{target:"errsibz2",label:"StyledCovidStatTitle"})({name:"whczbu",styles:"margin:0;flex:1 1 auto;font-size:2rem;font-weight:700;text-overflow:ellipsis;white-space:nowrap"}),G=Object(K.a)("div",{target:"errsibz1",label:"StyledCovidStatBody"})({name:"do9fhx",styles:"height:calc(100vh - 8rem);overflow:auto;box-shadow:0 1px 3px rgba(0, 0, 0, 0.12),0 1px 2px rgba(0, 0, 0, 0.24)"}),U=Object(K.a)("div",{target:"errsibz0",label:"StyledCovidStatScroll"})({name:"y3uulh",styles:"position:relative;min-width:50em;height:100%"}),Q=[{key:"country",alias:"\uad6d\uac00"},{key:"confirmed",alias:"\ud655\uc9c4\uc790"},{key:"recovered",alias:"\uc644\uce58\uc790"},{key:"critical",alias:"\uce58\uba85\uc801"},{key:"deaths",alias:"\uc0ac\ub9dd\uc790"}],V=function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.cacheKey,n=t.cacheMaxAge,i=Object(a.useReducer)(w,v),c=Object(d.a)(i,2),o=c[0],s=o.data,b=o.loading,p=o.error,h=c[1],j=Object(a.useRef)({key:r,timestamp:0});return Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(l.a.mark((function t(){var r,a,i,c,o,s,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=j.current.key&&n,a=Date.now()-j.current.timestamp<(n||0),i=new Request(e),!r||!a){t.next=9;break}return t.next=6,g(j.current.key,i);case 6:t.t0=t.sent,t.next=10;break;case 9:t.t0=null;case 10:if(null===(c=t.t0)||void 0===c){t.next=15;break}t.t1=c,t.next=18;break;case 15:return t.next=17,fetch(i);case 17:t.t1=t.sent;case 18:if((o=t.t1).ok){t.next=23;break}return s=new Error("Request failed: ".concat(e)),h({type:"setError",payload:s}),t.abrupt("return");case 23:return r&&!a&&f(j.current.key,i,o.clone()),t.next=26,o.json();case 26:u=t.sent,h({type:"setData",payload:u});case 28:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[n,h,e]),{data:s,loading:b,error:p}}("https://covid19-api.com/country/all",{cacheKey:"covid19-country-all",cacheMaxAge:36e5}),t=e.data,r=e.loading,i=e.error,c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object(a.useState)(Object(b.a)({filterKey:null,filterKeyword:null,sortKey:null,sortDirection:k},t)),n=Object(d.a)(r,2),i=n[0],c=n[1];return{processedData:Object(a.useMemo)((function(){if(!e)return null;var t=Object(O.a)(e);return D(t=C(t,i),i)}),[i,e]),dataOptions:i,handleColumnClick:function(e){return function(t){t.preventDefault(),c((function(t){return t.sortKey===e?Object(b.a)(Object(b.a)({},t),{},{sortDirection:S(t.sortDirection)}):Object(b.a)(Object(b.a)({},t),{},{sortKey:e,sortDirection:k})}))}},handleKeywordChange:function(e){var t=e.target.value;c((function(e){return Object(b.a)(Object(b.a)({},e),{},{filterKeyword:t||null})}))}}}(t,{filterKey:"country",sortKey:"country",sortDirection:"ascending"}),o=c.processedData,s=c.dataOptions,p=s.sortKey,h=s.sortDirection,j=c.handleColumnClick,y=c.handleKeywordChange;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(J,{children:[Object(n.jsx)(P,{children:"\ucf54\ub85c\ub098 \ubc14\uc774\ub7ec\uc2a4 \uc138\uacc4 \ud604\ud669"}),Object(n.jsx)(I,{handleChange:y})]}),Object(n.jsx)(G,{children:Object(n.jsx)(U,{children:r?Object(n.jsx)(A,{}):i?Object(n.jsx)("p",{children:i.message}):t?Object(n.jsx)(M,{data:o,columns:Q,sortKey:p,sortDirection:h,handleColumnClick:j}):Object(n.jsx)("p",{children:"No data!"})})})]})},W=function(){return Object(n.jsx)(V,{})},X=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,24)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),i(e),c(e)}))};o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(W,{})}),document.getElementById("root")),X()}},[[22,1,2]]]);
//# sourceMappingURL=main.abd86910.chunk.js.map